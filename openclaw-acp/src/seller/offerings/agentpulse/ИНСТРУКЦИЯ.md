# AgentPulse — чёткая инструкция (итог из диалога)

**Цель:** чтобы другие агенты и люди находили AgentPulse и заказывали health_check, reputation_report, agent_risk_flags.  
**Agent ID:** 3212 | [Профиль](https://app.virtuals.io/acp/agent-details/3212)

---

## Важно

- **Рабочая папка:** все команды выполняются из папки `openclaw-acp` (не из корня AgentPulse).
- **Windows / PowerShell:** команда `acp` не работает. Вместо неё везде используй: **`npx tsx bin/acp.ts`**.
- **Путь на ПК:** `C:\Users\Pc\Desktop\AgentPulse\openclaw-acp`

---

## Шаг 0. Открыть терминал и перейти в папку

В Cursor открой терминал (PowerShell) и выполни:

```powershell
cd C:\Users\Pc\Desktop\AgentPulse\openclaw-acp
```

Дальше все команды — из этой папки.

---

## Шаг 1. Проверить авторизацию

Выполни:

```powershell
npx tsx bin/acp.ts whoami
```

**Если видишь данные агента (имя, кошелёк)** — переходи к шагу 2.

**Если ошибка 403 Forbidden или "Unauthorized":**

1. Заново войди и привяжи агента:
   ```powershell
   npx tsx bin/acp.ts setup
   ```
2. Следуй подсказкам: откроется ссылка для входа, после входа выбери агента AgentPulse (или создай).
3. Снова проверь:
   ```powershell
   npx tsx bin/acp.ts whoami
   ```

**Если агент не AgentPulse:**

```powershell
npx tsx bin/acp.ts agent list
npx tsx bin/acp.ts agent switch AgentPulse
```

(Имя в списке может отличаться — смотри вывод `agent list`.)

---

## Шаг 2. Обновить описание агента (для поиска)

Один раз выполни (чтобы AgentPulse находили по запросам вроде "agent health"):

```powershell
npx tsx bin/acp.ts profile update description "AgentPulse: health check, reputation report, and risk flags for AI agents on Virtuals Protocol (agdp.io). Check agent status, metrics, success rate, revenue, rank. Triggers: agent health, agent status, reputation, risk flags, due diligence. For agents (JSON) and humans (human_summary)." --json
```

---

## Шаг 3. Зарегистрировать offerings на ACP

Выполни по очереди (каждую команду отдельно):

```powershell
npx tsx bin/acp.ts sell create health_check
```

```powershell
npx tsx bin/acp.ts sell create reputation_report
```

```powershell
npx tsx bin/acp.ts sell create agent_risk_flags
```

Проверка:

```powershell
npx tsx bin/acp.ts sell list
```

Должны быть все три: health_check, reputation_report, agent_risk_flags.

---

## Шаг 4. Запустить / перезапустить seller

**На твоём ПК (локально):**

```powershell
npx tsx bin/acp.ts serve stop
npx tsx bin/acp.ts serve start
```

**На VPS (сервер, PM2):**

```bash
cd /root/AgentPulse/openclaw-acp
pm2 restart agentpulse-seller
```

---

## Шаг 5. Проверка

Поиск AgentPulse в маркетплейсе:

```powershell
npx tsx bin/acp.ts browse "agent health" --json
```

В ответе должен быть агент с id 3212 и тремя offerings.

---

## Краткий чеклист (копируй по шагам)

| Шаг | Действие | Команда |
|-----|----------|---------|
| 0 | Перейти в папку | `cd C:\Users\Pc\Desktop\AgentPulse\openclaw-acp` |
| 1 | Проверить вход | `npx tsx bin/acp.ts whoami` |
| 1b | Если 403 | `npx tsx bin/acp.ts setup` |
| 2 | Описание агента | `npx tsx bin/acp.ts profile update description "AgentPulse: health check..."` (полный текст выше) |
| 3 | Offerings | `npx tsx bin/acp.ts sell create health_check` и то же для reputation_report, agent_risk_flags |
| 4 | Список offerings | `npx tsx bin/acp.ts sell list` |
| 5 | Запуск seller (ПК) | `npx tsx bin/acp.ts serve start` |
| 5vps | Перезапуск на VPS | `pm2 restart agentpulse-seller` |
| 6 | Проверка поиска | `npx tsx bin/acp.ts browse "agent health" --json` |

---

## Что уже сделано в репозитории (менять не нужно)

- В `offering.json` для health_check, reputation_report, agent_risk_flags добавлены триггеры для поиска.
- Создан `SKILL.md` с описанием, когда и как другие агенты вызывают AgentPulse.
- В `DEPLOY_STEPS.md` — расширенная инструкция; здесь — короткая и чёткая.

Если что-то пойдёт не так — смотри вывод терминала (ошибку) и проверь шаг 1 (авторизация и выбор агента).
